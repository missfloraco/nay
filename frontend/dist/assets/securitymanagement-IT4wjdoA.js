import{f as m,h as S,q as $,r as g,j as e,I as C,S as M,l as T}from"./index-CyxQwsQl.js";import{A as z}from"./adminlayout-BZTWR09H.js";import{S as j}from"./shield-B62tIG1s.js";import{T as E}from"./type-CQQ28Ykv.js";import{T as K}from"./terminal-DHh6YHro.js";import{L}from"./sparkles-ClcDe-Ep.js";import{S as A}from"./save-BnVArzGb.js";import{U as D}from"./users-BsWlUMcl.js";import{G as F}from"./globe-koAPSkYK.js";import"./adslot-DC0mcUoM.js";import"./drawer-Bj6KWlWm.js";import"./helpers-CPSgdYRA.js";import"./log-out-DA5HdhrL.js";import"./user-CAZ9w-Ov.js";import"./theme-toggle-DmE4dG8g.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],G=m("copy",I);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],U=m("mouse-pointer-2",P);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],O=m("move",q);function oe(){const{settings:p,refreshSettings:v,loading:x}=S(),{showToast:h}=$(),[y,b]=g.useState(!1),[r,u]=g.useState({protect_right_click_admin:!1,protect_right_click_app:!1,protect_right_click_landing:!1,protect_selection_admin:!1,protect_selection_app:!1,protect_selection_landing:!1,protect_drag_admin:!1,protect_drag_app:!1,protect_drag_landing:!1,protect_copy_paste_admin:!1,protect_copy_paste_app:!1,protect_copy_paste_landing:!1,protect_devtools_admin:!1,protect_devtools_app:!1,protect_devtools_landing:!1});g.useEffect(()=>{if(!x&&p){const a={},t=["right_click","selection","drag","copy_paste","devtools"],o=["admin","app","landing"];t.forEach(d=>{o.forEach(i=>{const l=`protect_${d}_${i}`;a[l]=p[l]==="1"||p[l]===!0})}),u(a)}},[p,x]);const w=a=>{u(t=>({...t,[a]:!t[a]}))},N=async()=>{var a,t;b(!0);try{const o=Object.entries(r).reduce((d,[i,l])=>({...d,[i]:l?"1":"0"}),{});await M.updateSettings("admin",o),await v(),h("تم تحديث إعدادات الحماية بنجاح","success")}catch(o){T.error(o),h(((t=(a=o.response)==null?void 0:a.data)==null?void 0:t.message)||"حدث خطأ أثناء الحفظ","error")}finally{b(!1)}},n=({id:a,title:t,description:o,icon:d,featureKey:i,colorClass:l})=>{const f=`protect_${i}_admin`,k=`protect_${i}_app`,_=`protect_${i}_landing`,c=r[f]||r[k]||r[_];return e.jsxs("div",{className:`
                    group relative flex flex-col p-8 rounded-[2.5rem] border-2 transition-all duration-700 overflow-hidden
                    ${c?"bg-white dark:bg-dark-900 border-primary shadow-2xl shadow-primary/10":"bg-gray-50/50 dark:bg-dark-950/40 border-gray-100 dark:border-dark-800 hover:border-gray-200 dark:hover:border-dark-700"}
                `,children:[e.jsxs("div",{className:"flex items-start justify-between mb-8",children:[e.jsx("div",{className:`p-4 rounded-2xl ${l} transition-all duration-500 group-hover:scale-110 group-hover:rotate-6 shadow-sm`,children:e.jsx(d,{className:"w-8 h-8"})}),e.jsx("div",{className:`text-[10px] font-black uppercase tracking-widest transition-colors duration-500 ${c?"text-primary":"text-gray-400"}`,children:c?"مفعل في بعض الأقسام":"غير مفعل بالكامل"})]}),e.jsxs("div",{className:"space-y-4 relative z-10 mb-8",children:[e.jsx("h3",{className:`text-xl font-black transition-colors duration-500 ${c?"text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:t}),e.jsx("p",{className:"text-sm font-bold text-gray-400 dark:text-gray-500 leading-relaxed group-hover:text-gray-500 dark:group-hover:text-gray-400 transition-colors",children:o})]}),e.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-100 dark:border-dark-800",children:[e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 block",children:"تطبيق على:"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:[{key:f,label:"لوحة تحكم المدير",icon:j},{key:k,label:"لوحة المشتركين",icon:D},{key:_,label:"الموقع التعريفي",icon:F}].map(s=>e.jsxs("label",{className:`
                                    flex items-center justify-between p-3 rounded-xl border transition-all cursor-pointer
                                    ${r[s.key]?"bg-primary/5 border-primary/20 text-primary uppercase":"bg-white dark:bg-dark-950 border-gray-100 dark:border-dark-800 text-gray-400 hover:border-gray-200"}
                                `,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(s.icon,{size:14,className:r[s.key]?"text-primary":"text-gray-300"}),e.jsx("span",{className:"text-xs font-black",children:s.label})]}),e.jsx("input",{type:"checkbox",className:"sr-only",checked:r[s.key],onChange:()=>w(s.key)}),e.jsx("div",{className:`
                                    w-10 h-5 rounded-full transition-all duration-300 relative flex items-center px-1
                                    ${r[s.key]?"bg-primary":"bg-gray-200 dark:bg-dark-800"}
                                `,children:e.jsx("div",{className:`
                                        w-3 h-3 rounded-full bg-white shadow-sm transition-all duration-300
                                        ${r[s.key]?"-translate-x-[20px]":"translate-x-0"}
                                    `})})]},s.key))})]}),c&&e.jsx("div",{className:"absolute -bottom-10 -right-10 opacity-[0.03] dark:opacity-[0.05] transition-transform duration-1000 group-hover:scale-150 group-hover:rotate-12 pointer-events-none",children:e.jsx(d,{size:180})})]})};return e.jsx(z,{title:"إعدادات الحماية",noPadding:!0,hideLeftSidebar:!0,children:e.jsx("div",{className:"h-full w-full bg-white dark:bg-dark-950 p-6 animate-in fade-in duration-500 overflow-y-auto no-scrollbar pb-44",children:e.jsxs("div",{className:"mx-auto space-y-12 w-full",children:[e.jsxs("div",{className:"flex items-center gap-6 border-b border-gray-100 dark:border-dark-800 pb-8 group",children:[e.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/10 rounded-[2rem] text-red-600 shadow-inner group-hover:scale-110 transition-transform",children:e.jsx(j,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-black text-3xl text-gray-900 dark:text-white tracking-tight",children:"إعدادات الحماية المتقدمة"}),e.jsx("p",{className:"text-base font-bold text-gray-400 dark:text-gray-500",children:"تحكم دقيق بمكان وزمان تفعيل أدوات الحماية في منصتك"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:[e.jsx(n,{id:"right-click",featureKey:"right_click",title:"حماية النقر بالزر الأيمن",description:"منع المستخدمين من النقر بالزر الأيمن داخل المنصة لإيقاف الوصول لخيارات النسخ والمعاينة.",icon:U,colorClass:"bg-blue-50 dark:bg-blue-900/10 text-blue-600"}),e.jsx(n,{id:"selection",featureKey:"selection",title:"منع تحديد النصوص",description:"منع المستخدمين من تحديد الكلمات والفقرات داخل صفحات المنصة لحماية المحتوى المكتوب.",icon:E,colorClass:"bg-purple-50 dark:bg-purple-900/10 text-purple-600"}),e.jsx(n,{id:"drag",featureKey:"drag",title:"منع سحب العناصر",description:"إيقاف إمكانية سحب الصور والعناصر التفاعلية لإحباط عمليات الحفظ غير المصرح بها.",icon:O,colorClass:"bg-orange-50 dark:bg-orange-900/10 text-orange-600"}),e.jsx(n,{id:"copy-paste",featureKey:"copy_paste",title:"حماية النسخ واللصق",description:"تعطيل أوامر النسخ (Ctrl+C) والقص (Ctrl+X) واللصق لمنع تداول البيانات خارج المنصة.",icon:G,colorClass:"bg-emerald-50 dark:bg-emerald-900/10 text-emerald-600"}),e.jsx(n,{id:"devtools",featureKey:"devtools",title:"حماية أدوات المطورين",description:"منع فتح شاشة الفحص (Inspect) عن طريق تعطيل (F12) ومجموعات أزرار التحكم البرمجية.",icon:K,colorClass:"bg-rose-50 dark:bg-rose-900/10 text-rose-600"})]}),e.jsx("div",{className:"pt-12 border-t border-gray-100 dark:border-dark-800",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8 p-8 rounded-[2.5rem] bg-gray-50/50 dark:bg-dark-900/40 border border-gray-100 dark:border-dark-800",children:[e.jsxs("div",{className:"flex items-center gap-4 text-gray-500 dark:text-gray-400",children:[e.jsx(C,{className:"w-6 h-6 shrink-0"}),e.jsx("p",{className:"text-sm font-bold",children:"تنبيه: هذه الإعدادات تطبق فوراً على جميع زوار المنصة والداشبورد. قد تحتاج لإعادة تحميل الصفحة لتفعيل التغييرات بالكامل."})]}),e.jsxs("button",{onClick:N,disabled:y,className:"w-full md:w-auto px-12 h-16 flex items-center justify-center gap-4 bg-primary hover:bg-primary/90 text-white rounded-3xl font-black shadow-2xl shadow-primary/20 transition-all hover:scale-[1.02] active:scale-95 disabled:opacity-50 min-w-[280px] text-lg",children:[y?e.jsx(L,{className:"w-6 h-6 animate-spin"}):e.jsx(A,{className:"w-6 h-6"}),e.jsx("span",{children:"حفظ إعدادات الحماية"})]})]})})]})})})}export{oe as default};
