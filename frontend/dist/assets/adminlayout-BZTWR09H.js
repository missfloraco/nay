import{f as l,c as I,b as E,u as T,h as _,p as V,O as q,j as e,d as R,v as $,L as m,e as g}from"./index-CyxQwsQl.js";import{u as b,P as u}from"./adslot-DC0mcUoM.js";import{M as D,H as O,D as f,L as U,C as B,a as H,B as z}from"./drawer-Bj6KWlWm.js";import{U as F,C as Y}from"./users-BsWlUMcl.js";import{S as G}from"./shield-B62tIG1s.js";import{L as K}from"./sparkles-ClcDe-Ep.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Q=l("code",W);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],X=l("megaphone",J);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],ee=l("panels-top-left",Z);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],te=l("wallet",ae),xe=({children:y,title:N,noPadding:se=!1,leftSidebarContent:n,leftSidebarNoPadding:v=!1,leftSidebarNoBorder:j=!1,hideLeftSidebar:k=!1})=>{var p;const x=I();E();const{user:o,loading:w,logout:A}=T(),{settings:re}=_(),{primaryAction:t,setPrimaryAction:le}=V(),{isRightDrawerOpen:C,isLeftDrawerOpen:M,closeDrawers:r,toggleRightDrawer:L}=q();if(w)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-950 flex items-center justify-center",children:e.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin"})});const{t:s}=R(),{data:i}=b({queryKey:["admin-notifications-count"],queryFn:()=>g.get("/admin/notifications/support"),refetchInterval:5e3,enabled:!!o}),P=(i==null?void 0:i.count)||0,{data:d}=b({queryKey:["admin-trash-count"],queryFn:()=>g.get("/admin/trash"),refetchInterval:1e4,enabled:!!o}),S=((p=d==null?void 0:d.stats)==null?void 0:p.total)||0,c=[{icon:ee,label:s("admin.NAV.IDENTITY","هوية المنصة"),path:"/admin/identity",color:"text-purple-600"},{icon:F,label:s("admin.NAV.TENANTS","إدارة المشتركين"),path:"/admin/tenants",color:"text-[#02aa94]"},{icon:te,label:s("admin.NAV.PAYMENTS","إدارة المدفوعات"),path:"/admin/payments",color:"text-emerald-600"},{icon:Y,label:"إدارة SEO",path:"/admin/seo",color:"text-blue-600"},{icon:X,label:s("admin.NAV.ADS","إدارة الإعلانات"),path:"/admin/ads",color:"text-[#fb005e]"},{icon:Q,label:"الأكواد والنصوص",path:"/admin/scripts",color:"text-amber-600"},{icon:G,label:"إعدادات الحماية",path:"/admin/security",color:"text-rose-600"},{icon:D,label:s("admin.NAV.SUPPORT","رسائل الدعم"),path:"/admin/support",color:"text-[#fb005e]",badge:P},{icon:$,label:s("admin.NAV.RECYCLE_BIN","سلة المحذوفات"),path:"/admin/trash",color:"text-red-600 font-black",badge:S}];return e.jsxs("div",{className:"layout-root",dir:"rtl",children:[e.jsx(O,{onMenuClick:()=>{},className:"global-header",title:N||"",userRole:s("admin.SETTINGS.SUPER_ADMIN_PRIVILEGES","مدير النظام")}),e.jsxs("div",{className:"main-content-wrapper",children:[e.jsxs("aside",{className:"desktop-sidebar bg-white dark:bg-dark-950 border-l border-gray-200 dark:border-dark-700 z-40 transition-all duration-500 ease-in-out flex flex-col w-[250px]",children:[e.jsx("nav",{className:"flex-1 overflow-y-auto no-scrollbar p-6 space-y-1.5",children:c.map(a=>{const h=x.pathname===a.path;return e.jsx("div",{className:"relative group/item",children:e.jsxs(m,{to:a.path,className:`flex items-center gap-4 px-4 py-3.5 rounded-2xl transition-all duration-300 font-bold group relative overflow-hidden
                                        ${h?"bg-primary text-white shadow-lg shadow-primary/30 active-nav-item":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-dark-800/50 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(a.icon,{className:"w-5 h-5 transition-all duration-500 scale-110"}),e.jsx("span",{className:"sidebar-label-text text-sm flex-1",children:a.label}),a.badge>0&&e.jsx("span",{className:"bg-red-500 text-white text-[10px] font-bold rounded-full min-w-[20px] h-5 flex items-center justify-center px-1 animate-pulse",children:a.badge>9?"9+":a.badge})]})},a.path)})}),e.jsx("div",{className:"flex flex-col border-t border-gray-200 dark:border-dark-700 bg-gray-50/30 dark:bg-dark-800/20",children:e.jsx("div",{className:"h-[90px] px-6 flex items-center justify-center",children:t?e.jsxs("button",{onClick:t.onClick,disabled:t.disabled||t.loading,className:`flex items-center justify-center gap-3 w-full py-3.5 px-6 ${t.variant==="danger"?"bg-red-600 shadow-red-500/20":"bg-primary shadow-primary/30"} text-white rounded-2xl shadow-lg transition-all font-black hover:scale-[1.02] active:scale-95 disabled:opacity-50`,children:[t.loading?e.jsx(K,{className:"w-5 h-5 animate-spin"}):t.icon?e.jsx(t.icon,{className:"w-5 h-5"}):e.jsx(u,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:t.label})]}):e.jsx("div",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest text-center",children:"النظام جاهز للعمل"})})})]}),e.jsx(f,{isOpen:C,onClose:r,side:"right",title:s("admin.navigation","لوحة تحكم المدير"),children:e.jsxs("nav",{className:"p-6 space-y-1.5 h-full flex flex-col",children:[e.jsx("div",{className:"flex-1 space-y-1.5",children:c.map(a=>{const h=x.pathname===a.path;return e.jsxs(m,{to:a.path,onClick:r,className:`flex items-center gap-4 px-4 py-3.5 rounded-2xl transition-all duration-300 font-bold
                                        ${h?"bg-primary text-white shadow-lg shadow-primary/30":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-dark-800/50 hover:text-gray-900 dark:hover:text-white"}`,children:[e.jsx(a.icon,{className:`w-5 h-5 ${a.color}`}),e.jsx("span",{className:"text-sm flex-1",children:a.label}),a.badge>0&&e.jsx("span",{className:"bg-red-500 text-white text-[10px] font-bold rounded-full min-w-[20px] h-5 flex items-center justify-center px-1",children:a.badge>9?"9+":a.badge})]},a.path)})}),t&&e.jsx("div",{className:"pt-6 border-t border-gray-100 dark:border-white/5 mt-auto",children:e.jsxs("button",{onClick:()=>{t.onClick(),r()},className:`flex items-center justify-center gap-3 w-full py-4 px-6 ${t.variant==="danger"?"bg-red-600":"bg-primary"} text-white rounded-2xl shadow-lg font-black transition-all`,children:[t.icon?e.jsx(t.icon,{className:"w-5 h-5"}):e.jsx(u,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:t.label})]})})]})}),n&&e.jsx(f,{isOpen:M,onClose:r,side:"left",title:s("common.options","خيارات إضافية"),children:e.jsx("div",{className:"h-full flex flex-col py-4",onClick:r,children:n})}),e.jsx("div",{className:"content-area-main relative overflow-hidden bg-gray-50 dark:bg-dark-950 flex-1",children:e.jsx("main",{className:"h-full relative p-4",children:e.jsx("div",{className:"page-frame-container w-full h-full bg-white dark:bg-dark-950 flex flex-col overflow-auto no-scrollbar p-0",children:y})})}),!k&&e.jsx(U,{noPadding:v,noBorder:j,children:n})]}),e.jsx("footer",{className:"global-footer flex h-[90px] border-t border-gray-200 dark:border-dark-700 bg-white dark:bg-dark-950 items-center justify-between transition-all z-50",children:e.jsxs("div",{className:"flex h-full items-center w-full",children:[e.jsx(B,{}),e.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden h-full",children:e.jsx("div",{className:"text-[10px] font-black text-gray-300 dark:text-gray-600 uppercase tracking-widest leading-tight text-center",children:"لوحة تحكم النظام الشاملة"})}),e.jsx(H,{type:"admin"})]})}),e.jsx("div",{className:"mobile-only",children:e.jsx(z,{items:c,user:o,onLogout:A,settingsPath:"/admin/settings",onMenuClick:L})})]})};export{xe as A,Q as C,X as M,ee as P};
