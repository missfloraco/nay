import{R as Y,t as Lr,r as ie,a as Tr,x as Pr,j as h,T as Rr,e as Ir}from"./index-3tzHmsOf.js";import{p as Mr,a as Br,$ as qr,o as Wr,s as pe}from"./schemas-CsUKkzBv.js";import{I as Ve}from"./input-field-CqDw_XU4.js";import{S as $r}from"./select-field-D_jTowMW.js";import{C as zr}from"./circularimageupload-DcvZpDQo.js";import{C as Hr}from"./constants-DPRNOWFl.js";import{U as Xe}from"./user-BF6dZPLy.js";import{M as er}from"./mail-wdynseuz.js";import{C as rr}from"./circle-check-Dc0cBGBt.js";import{P as Kr,L as tr}from"./phone-zcv6c-Q-.js";import{G as Zr}from"./globe-Di9bsZY2.js";import{S as Gr}from"./shield-C-QUnZFc.js";import{L as sr}from"./sparkles-BZvr4uos.js";import{S as Yr}from"./save-CtIa-MK8.js";var Ee=e=>e.type==="checkbox",ge=e=>e instanceof Date,H=e=>e==null;const wr=e=>typeof e=="object";var C=e=>!H(e)&&!Array.isArray(e)&&wr(e)&&!ge(e),Jr=e=>C(e)&&e.target?Ee(e.target)?e.target.checked:e.target.value:e,Qr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Xr=(e,s)=>e.has(Qr(s)),et=e=>{const s=e.constructor&&e.constructor.prototype;return C(s)&&s.hasOwnProperty("isPrototypeOf")},Be=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function T(e){if(e instanceof Date)return new Date(e);const s=typeof FileList<"u"&&e instanceof FileList;if(Be&&(e instanceof Blob||s))return e;const r=Array.isArray(e);if(!r&&!(C(e)&&et(e)))return e;const a=r?[]:Object.create(Object.getPrototypeOf(e));for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&(a[d]=T(e[d]));return a}var Ce=e=>/^\w*$/.test(e),D=e=>e===void 0,qe=e=>Array.isArray(e)?e.filter(Boolean):[],We=e=>qe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),m=(e,s,r)=>{if(!s||!C(e))return r;const a=(Ce(s)?[s]:We(s)).reduce((d,n)=>H(d)?d:d[n],e);return D(a)||a===e?D(e[s])?r:e[s]:a},ne=e=>typeof e=="boolean",se=e=>typeof e=="function",V=(e,s,r)=>{let a=-1;const d=Ce(s)?[s]:We(s),n=d.length,l=n-1;for(;++a<n;){const c=d[a];let A=r;if(a!==l){const U=e[c];A=C(U)||Array.isArray(U)?U:isNaN(+d[a+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=A,e=e[c]}};const ar={BLUR:"blur",FOCUS_OUT:"focusout"},ae={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},le={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rt=Y.createContext(null);rt.displayName="HookFormContext";var tt=(e,s,r,a=!0)=>{const d={defaultValues:s._defaultValues};for(const n in e)Object.defineProperty(d,n,{get:()=>{const l=n;return s._proxyFormState[l]!==ae.all&&(s._proxyFormState[l]=!a||ae.all),e[l]}});return d};const st=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;var J=e=>typeof e=="string",at=(e,s,r,a,d)=>J(e)?(a&&s.watch.add(e),m(r,e,d)):Array.isArray(e)?e.map(n=>(a&&s.watch.add(n),m(r,n))):(a&&(s.watchAll=!0),r),Re=e=>H(e)||!wr(e);function ye(e,s,r=new WeakSet){if(Re(e)||Re(s))return Object.is(e,s);if(ge(e)&&ge(s))return e.getTime()===s.getTime();const a=Object.keys(e),d=Object.keys(s);if(a.length!==d.length)return!1;if(r.has(e)||r.has(s))return!0;r.add(e),r.add(s);for(const n of a){const l=e[n];if(!d.includes(n))return!1;if(n!=="ref"){const c=s[n];if(ge(l)&&ge(c)||C(l)&&C(c)||Array.isArray(l)&&Array.isArray(c)?!ye(l,c,r):!Object.is(l,c))return!1}}return!0}var $e=(e,s,r,a,d)=>s?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:d||!0}}:{},Ae=e=>Array.isArray(e)?e:[e],ir=()=>{let e=[];return{get observers(){return e},next:d=>{for(const n of e)n.next&&n.next(d)},subscribe:d=>(e.push(d),{unsubscribe:()=>{e=e.filter(n=>n!==d)}}),unsubscribe:()=>{e=[]}}};function _r(e,s){const r={};for(const a in e)if(e.hasOwnProperty(a)){const d=e[a],n=s[a];if(d&&C(d)&&n){const l=_r(d,n);C(l)&&(r[a]=l)}else e[a]&&(r[a]=n)}return r}var W=e=>C(e)&&!Object.keys(e).length,ze=e=>e.type==="file",De=e=>{if(!Be)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},kr=e=>e.type==="select-multiple",He=e=>e.type==="radio",it=e=>He(e)||Ee(e),Pe=e=>De(e)&&e.isConnected;function nt(e,s){const r=s.slice(0,-1).length;let a=0;for(;a<r;)e=D(e)?a++:e[s[a++]];return e}function ot(e){for(const s in e)if(e.hasOwnProperty(s)&&!D(e[s]))return!1;return!0}function O(e,s){const r=Array.isArray(s)?s:Ce(s)?[s]:We(s),a=r.length===1?e:nt(e,r),d=r.length-1,n=r[d];return a&&delete a[n],d!==0&&(C(a)&&W(a)||Array.isArray(a)&&ot(a))&&O(e,r.slice(0,-1)),e}var lt=e=>{for(const s in e)if(se(e[s]))return!0;return!1};function Vr(e){return Array.isArray(e)||C(e)&&!lt(e)}function Ie(e,s={}){for(const r in e){const a=e[r];Vr(a)?(s[r]=Array.isArray(a)?[]:{},Ie(a,s[r])):D(a)||(s[r]=!0)}return s}function we(e,s,r){r||(r=Ie(s));for(const a in e){const d=e[a];if(Vr(d))D(s)||Re(r[a])?r[a]=Ie(d,Array.isArray(d)?[]:{}):we(d,H(s)?{}:s[a],r[a]);else{const n=s[a];r[a]=!ye(d,n)}}return r}const nr={value:!1,isValid:!1},or={value:!0,isValid:!0};var Fr=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!D(e[0].attributes.value)?D(e[0].value)||e[0].value===""?or:{value:e[0].value,isValid:!0}:or:nr}return nr},Ar=(e,{valueAsNumber:s,valueAsDate:r,setValueAs:a})=>D(e)?e:s?e===""?NaN:e&&+e:r&&J(e)?new Date(e):a?a(e):e;const lr={isValid:!1,value:null};var jr=e=>Array.isArray(e)?e.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,lr):lr;function dr(e){const s=e.ref;return ze(s)?s.files:He(s)?jr(e.refs).value:kr(s)?[...s.selectedOptions].map(({value:r})=>r):Ee(s)?Fr(e.refs).value:Ar(D(s.value)?e.ref.value:s.value,e)}var dt=(e,s,r,a)=>{const d={};for(const n of e){const l=m(s,n);l&&V(d,n,l._f)}return{criteriaMode:r,names:[...e],fields:d,shouldUseNativeValidation:a}},Oe=e=>e instanceof RegExp,Fe=e=>D(e)?e:Oe(e)?e.source:C(e)?Oe(e.value)?e.value.source:e.value:e,ur=e=>({isOnSubmit:!e||e===ae.onSubmit,isOnBlur:e===ae.onBlur,isOnChange:e===ae.onChange,isOnAll:e===ae.all,isOnTouch:e===ae.onTouched});const cr="AsyncFunction";var ut=e=>!!e&&!!e.validate&&!!(se(e.validate)&&e.validate.constructor.name===cr||C(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===cr)),ct=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),fr=(e,s,r)=>!r&&(s.watchAll||s.watch.has(e)||[...s.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const je=(e,s,r,a)=>{for(const d of r||Object.keys(e)){const n=m(e,d);if(n){const{_f:l,...c}=n;if(l){if(l.refs&&l.refs[0]&&s(l.refs[0],d)&&!a)return!0;if(l.ref&&s(l.ref,l.name)&&!a)return!0;if(je(c,s))break}else if(C(c)&&je(c,s))break}}};function yr(e,s,r){const a=m(e,r);if(a||Ce(r))return{error:a,name:r};const d=r.split(".");for(;d.length;){const n=d.join("."),l=m(s,n),c=m(e,n);if(l&&!Array.isArray(l)&&r!==n)return{name:r};if(c&&c.type)return{name:n,error:c};if(c&&c.root&&c.root.type)return{name:`${n}.root`,error:c.root};d.pop()}return{name:r}}var ft=(e,s,r,a)=>{r(e);const{name:d,...n}=e;return W(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(l=>s[l]===(!a||ae.all))},yt=(e,s,r)=>!e||!s||e===s||Ae(e).some(a=>a&&(r?a===s:a.startsWith(s)||s.startsWith(a))),mt=(e,s,r,a,d)=>d.isOnAll?!1:!r&&d.isOnTouch?!(s||e):(r?a.isOnBlur:d.isOnBlur)?!e:(r?a.isOnChange:d.isOnChange)?e:!0,ht=(e,s)=>!qe(m(e,s)).length&&O(e,s),gt=(e,s,r)=>{const a=Ae(m(e,r));return V(a,"root",s[r]),V(e,r,a),e};function mr(e,s,r="validate"){if(J(e)||Array.isArray(e)&&e.every(J)||ne(e)&&!e)return{type:r,message:J(e)?e:"",ref:s}}var xe=e=>C(e)&&!Oe(e)?e:{value:e,message:""},hr=async(e,s,r,a,d,n)=>{const{ref:l,refs:c,required:A,maxLength:U,minLength:ee,min:w,max:E,pattern:p,validate:K,name:P,valueAsNumber:Q,mount:$}=e._f,b=m(r,P);if(!$||s.has(P))return{};const Z=c?c[0]:l,G=v=>{d&&Z.reportValidity&&(Z.setCustomValidity(ne(v)?"":v||""),Z.reportValidity())},N={},me=He(l),re=Ee(l),oe=me||re,de=(Q||ze(l))&&D(l.value)&&D(b)||De(l)&&l.value===""||b===""||Array.isArray(b)&&!b.length,R=$e.bind(null,P,a,N),ve=(v,x,S,L=le.maxLength,z=le.minLength)=>{const B=v?x:S;N[P]={type:v?L:z,message:B,ref:l,...R(v?L:z,B)}};if(n?!Array.isArray(b)||!b.length:A&&(!oe&&(de||H(b))||ne(b)&&!b||re&&!Fr(c).isValid||me&&!jr(c).isValid)){const{value:v,message:x}=J(A)?{value:!!A,message:A}:xe(A);if(v&&(N[P]={type:le.required,message:x,ref:Z,...R(le.required,x)},!a))return G(x),N}if(!de&&(!H(w)||!H(E))){let v,x;const S=xe(E),L=xe(w);if(!H(b)&&!isNaN(b)){const z=l.valueAsNumber||b&&+b;H(S.value)||(v=z>S.value),H(L.value)||(x=z<L.value)}else{const z=l.valueAsDate||new Date(b),B=ce=>new Date(new Date().toDateString()+" "+ce),he=l.type=="time",ue=l.type=="week";J(S.value)&&b&&(v=he?B(b)>B(S.value):ue?b>S.value:z>new Date(S.value)),J(L.value)&&b&&(x=he?B(b)<B(L.value):ue?b<L.value:z<new Date(L.value))}if((v||x)&&(ve(!!v,S.message,L.message,le.max,le.min),!a))return G(N[P].message),N}if((U||ee)&&!de&&(J(b)||n&&Array.isArray(b))){const v=xe(U),x=xe(ee),S=!H(v.value)&&b.length>+v.value,L=!H(x.value)&&b.length<+x.value;if((S||L)&&(ve(S,v.message,x.message),!a))return G(N[P].message),N}if(p&&!de&&J(b)){const{value:v,message:x}=xe(p);if(Oe(v)&&!b.match(v)&&(N[P]={type:le.pattern,message:x,ref:l,...R(le.pattern,x)},!a))return G(x),N}if(K){if(se(K)){const v=await K(b,r),x=mr(v,Z);if(x&&(N[P]={...x,...R(le.validate,x.message)},!a))return G(x.message),N}else if(C(K)){let v={};for(const x in K){if(!W(v)&&!a)break;const S=mr(await K[x](b,r),Z,x);S&&(v={...S,...R(x,S.message)},G(S.message),a&&(N[P]=v))}if(!W(v)&&(N[P]={ref:Z,...v},!a))return N}}return G(!0),N};const vt={mode:ae.onSubmit,reValidateMode:ae.onChange,shouldFocusError:!0};function bt(e={}){let s={...vt,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:se(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},a={},d=C(s.defaultValues)||C(s.values)?T(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:T(d),l={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},A,U=0;const ee={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},w={...ee};let E={...w};const p={array:ir(),state:ir()},K=s.criteriaMode===ae.all,P=t=>i=>{clearTimeout(U),U=setTimeout(t,i)},Q=async t=>{if(!l.keepIsValid&&!s.disabled&&(w.isValid||E.isValid||t)){let i;s.resolver?(i=W((await oe()).errors),$()):i=await R(a,!0),i!==r.isValid&&p.state.next({isValid:i})}},$=(t,i)=>{!s.disabled&&(w.isValidating||w.validatingFields||E.isValidating||E.validatingFields)&&((t||Array.from(c.mount)).forEach(o=>{o&&(i?V(r.validatingFields,o,i):O(r.validatingFields,o))}),p.state.next({validatingFields:r.validatingFields,isValidating:!W(r.validatingFields)}))},b=(t,i=[],o,y,f=!0,u=!0)=>{if(y&&o&&!s.disabled){if(l.action=!0,u&&Array.isArray(m(a,t))){const g=o(m(a,t),y.argA,y.argB);f&&V(a,t,g)}if(u&&Array.isArray(m(r.errors,t))){const g=o(m(r.errors,t),y.argA,y.argB);f&&V(r.errors,t,g),ht(r.errors,t)}if((w.touchedFields||E.touchedFields)&&u&&Array.isArray(m(r.touchedFields,t))){const g=o(m(r.touchedFields,t),y.argA,y.argB);f&&V(r.touchedFields,t,g)}(w.dirtyFields||E.dirtyFields)&&(r.dirtyFields=we(d,n)),p.state.next({name:t,isDirty:v(t,i),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else V(n,t,i)},Z=(t,i)=>{V(r.errors,t,i),p.state.next({errors:r.errors})},G=t=>{r.errors=t,p.state.next({errors:r.errors,isValid:!1})},N=(t,i,o,y)=>{const f=m(a,t);if(f){const u=m(n,t,D(o)?m(d,t):o);D(u)||y&&y.defaultChecked||i?V(n,t,i?u:dr(f._f)):L(t,u),l.mount&&!l.action&&Q()}},me=(t,i,o,y,f)=>{let u=!1,g=!1;const _={name:t};if(!s.disabled){if(!o||y){(w.isDirty||E.isDirty)&&(g=r.isDirty,r.isDirty=_.isDirty=v(),u=g!==_.isDirty);const F=ye(m(d,t),i);g=!!m(r.dirtyFields,t),F?O(r.dirtyFields,t):V(r.dirtyFields,t,!0),_.dirtyFields=r.dirtyFields,u=u||(w.dirtyFields||E.dirtyFields)&&g!==!F}if(o){const F=m(r.touchedFields,t);F||(V(r.touchedFields,t,o),_.touchedFields=r.touchedFields,u=u||(w.touchedFields||E.touchedFields)&&F!==o)}u&&f&&p.state.next(_)}return u?_:{}},re=(t,i,o,y)=>{const f=m(r.errors,t),u=(w.isValid||E.isValid)&&ne(i)&&r.isValid!==i;if(s.delayError&&o?(A=P(()=>Z(t,o)),A(s.delayError)):(clearTimeout(U),A=null,o?V(r.errors,t,o):O(r.errors,t)),(o?!ye(f,o):f)||!W(y)||u){const g={...y,...u&&ne(i)?{isValid:i}:{},errors:r.errors,name:t};r={...r,...g},p.state.next(g)}},oe=async t=>($(t,!0),await s.resolver(n,s.context,dt(t||c.mount,a,s.criteriaMode,s.shouldUseNativeValidation))),de=async t=>{const{errors:i}=await oe(t);if($(t),t)for(const o of t){const y=m(i,o);y?V(r.errors,o,y):O(r.errors,o)}else r.errors=i;return i},R=async(t,i,o={valid:!0})=>{for(const y in t){const f=t[y];if(f){const{_f:u,...g}=f;if(u){const _=c.array.has(u.name),F=f._f&&ut(f._f);F&&w.validatingFields&&$([u.name],!0);const X=await hr(f,c.disabled,n,K,s.shouldUseNativeValidation&&!i,_);if(F&&w.validatingFields&&$([u.name]),X[u.name]&&(o.valid=!1,i))break;!i&&(m(X,u.name)?_?gt(r.errors,X,u.name):V(r.errors,u.name,X[u.name]):O(r.errors,u.name))}!W(g)&&await R(g,i,o)}}return o.valid},ve=()=>{for(const t of c.unMount){const i=m(a,t);i&&(i._f.refs?i._f.refs.every(o=>!Pe(o)):!Pe(i._f.ref))&&ke(t)}c.unMount=new Set},v=(t,i)=>!s.disabled&&(t&&i&&V(n,t,i),!ye(_e(),d)),x=(t,i,o)=>at(t,c,{...l.mount?n:D(i)?d:J(t)?{[t]:i}:i},o,i),S=t=>qe(m(l.mount?n:d,t,s.shouldUnregister?m(d,t,[]):[])),L=(t,i,o={})=>{const y=m(a,t);let f=i;if(y){const u=y._f;u&&(!u.disabled&&V(n,t,Ar(i,u)),f=De(u.ref)&&H(i)?"":i,kr(u.ref)?[...u.ref.options].forEach(g=>g.selected=f.includes(g.value)):u.refs?Ee(u.ref)?u.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(f)?g.checked=!!f.find(_=>_===g.value):g.checked=f===g.value||!!f)}):u.refs.forEach(g=>g.checked=g.value===f):ze(u.ref)?u.ref.value="":(u.ref.value=f,u.ref.type||p.state.next({name:t,values:T(n)})))}(o.shouldDirty||o.shouldTouch)&&me(t,f,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&ce(t)},z=(t,i,o)=>{for(const y in i){if(!i.hasOwnProperty(y))return;const f=i[y],u=t+"."+y,g=m(a,u);(c.array.has(t)||C(f)||g&&!g._f)&&!ge(f)?z(u,f,o):L(u,f,o)}},B=(t,i,o={})=>{const y=m(a,t),f=c.array.has(t),u=T(i);V(n,t,u),f?(p.array.next({name:t,values:T(n)}),(w.isDirty||w.dirtyFields||E.isDirty||E.dirtyFields)&&o.shouldDirty&&p.state.next({name:t,dirtyFields:we(d,n),isDirty:v(t,u)})):y&&!y._f&&!H(u)?z(t,u,o):L(t,u,o),fr(t,c)&&p.state.next({...r,name:t}),p.state.next({name:l.mount?t:void 0,values:T(n)})},he=async t=>{l.mount=!0;const i=t.target;let o=i.name,y=!0;const f=m(a,o),u=F=>{y=Number.isNaN(F)||ge(F)&&isNaN(F.getTime())||ye(F,m(n,o,F))},g=ur(s.mode),_=ur(s.reValidateMode);if(f){let F,X;const Se=i.type?dr(f._f):Jr(t),fe=t.type===ar.BLUR||t.type===ar.FOCUS_OUT,Or=!ct(f._f)&&!s.resolver&&!m(r.errors,o)&&!f._f.deps||mt(fe,m(r.touchedFields,o),r.isSubmitted,_,g),Le=fr(o,c,fe);V(n,o,Se),fe?(!i||!i.readOnly)&&(f._f.onBlur&&f._f.onBlur(t),A&&A(0)):f._f.onChange&&f._f.onChange(t);const Te=me(o,Se,fe),Cr=!W(Te)||Le;if(!fe&&p.state.next({name:o,type:t.type,values:T(n)}),Or)return(w.isValid||E.isValid)&&(s.mode==="onBlur"?fe&&Q():fe||Q()),Cr&&p.state.next({name:o,...Le?{}:Te});if(!fe&&Le&&p.state.next({...r}),s.resolver){const{errors:Je}=await oe([o]);if($([o]),u(Se),y){const Ur=yr(r.errors,a,o),Qe=yr(Je,a,Ur.name||o);F=Qe.error,o=Qe.name,X=W(Je)}}else $([o],!0),F=(await hr(f,c.disabled,n,K,s.shouldUseNativeValidation))[o],$([o]),u(Se),y&&(F?X=!1:(w.isValid||E.isValid)&&(X=await R(a,!0)));y&&(f._f.deps&&(!Array.isArray(f._f.deps)||f._f.deps.length>0)&&ce(f._f.deps),re(o,X,F,Te))}},ue=(t,i)=>{if(m(r.errors,i)&&t.focus)return t.focus(),1},ce=async(t,i={})=>{let o,y;const f=Ae(t);if(s.resolver){const u=await de(D(t)?t:f);o=W(u),y=t?!f.some(g=>m(u,g)):o}else t?(y=(await Promise.all(f.map(async u=>{const g=m(a,u);return await R(g&&g._f?{[u]:g}:g)}))).every(Boolean),!(!y&&!r.isValid)&&Q()):y=o=await R(a);return p.state.next({...!J(t)||(w.isValid||E.isValid)&&o!==r.isValid?{}:{name:t},...s.resolver||!t?{isValid:o}:{},errors:r.errors}),i.shouldFocus&&!y&&je(a,ue,t?f:c.mount),y},_e=(t,i)=>{let o={...l.mount?n:d};return i&&(o=_r(i.dirtyFields?r.dirtyFields:r.touchedFields,o)),D(t)?o:J(t)?m(o,t):t.map(y=>m(o,y))},k=(t,i)=>({invalid:!!m((i||r).errors,t),isDirty:!!m((i||r).dirtyFields,t),error:m((i||r).errors,t),isValidating:!!m(r.validatingFields,t),isTouched:!!m((i||r).touchedFields,t)}),I=t=>{t&&Ae(t).forEach(i=>O(r.errors,i)),p.state.next({errors:t?r.errors:{}})},q=(t,i,o)=>{const y=(m(a,t,{_f:{}})._f||{}).ref,f=m(r.errors,t)||{},{ref:u,message:g,type:_,...F}=f;V(r.errors,t,{...F,...i,ref:y}),p.state.next({name:t,errors:r.errors,isValid:!1}),o&&o.shouldFocus&&y&&y.focus&&y.focus()},j=(t,i)=>se(t)?p.state.subscribe({next:o=>"values"in o&&t(x(void 0,i),o)}):x(t,i,!0),M=t=>p.state.subscribe({next:i=>{yt(t.name,i.name,t.exact)&&ft(i,t.formState||w,Dr,t.reRenderRoot)&&t.callback({values:{...n},...r,...i,defaultValues:d})}}).unsubscribe,te=t=>(l.mount=!0,E={...E,...t.formState},M({...t,formState:{...ee,...t.formState}})),ke=(t,i={})=>{for(const o of t?Ae(t):c.mount)c.mount.delete(o),c.array.delete(o),i.keepValue||(O(a,o),O(n,o)),!i.keepError&&O(r.errors,o),!i.keepDirty&&O(r.dirtyFields,o),!i.keepTouched&&O(r.touchedFields,o),!i.keepIsValidating&&O(r.validatingFields,o),!s.shouldUnregister&&!i.keepDefaultValue&&O(d,o);p.state.next({values:T(n)}),p.state.next({...r,...i.keepDirty?{isDirty:v()}:{}}),!i.keepIsValid&&Q()},Ne=({disabled:t,name:i})=>{(ne(t)&&l.mount||t||c.disabled.has(i))&&(t?c.disabled.add(i):c.disabled.delete(i))},be=(t,i={})=>{let o=m(a,t);const y=ne(i.disabled)||ne(s.disabled);return V(a,t,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:t}},name:t,mount:!0,...i}}),c.mount.add(t),o?Ne({disabled:ne(i.disabled)?i.disabled:s.disabled,name:t}):N(t,!0,i.value),{...y?{disabled:i.disabled||s.disabled}:{},...s.progressive?{required:!!i.required,min:Fe(i.min),max:Fe(i.max),minLength:Fe(i.minLength),maxLength:Fe(i.maxLength),pattern:Fe(i.pattern)}:{},name:t,onChange:he,onBlur:he,ref:f=>{if(f){be(t,i),o=m(a,t);const u=D(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,g=it(u),_=o._f.refs||[];if(g?_.find(F=>F===u):u===o._f.ref)return;V(a,t,{_f:{...o._f,...g?{refs:[..._.filter(Pe),u,...Array.isArray(m(d,t))?[{}]:[]],ref:{type:u.type,name:t}}:{ref:u}}}),N(t,!1,void 0,u)}else o=m(a,t,{}),o._f&&(o._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!(Xr(c.array,t)&&l.action)&&c.unMount.add(t)}}},Ue=()=>s.shouldFocusError&&je(a,ue,c.mount),Er=t=>{ne(t)&&(p.state.next({disabled:t}),je(a,(i,o)=>{const y=m(a,o);y&&(i.disabled=y._f.disabled||t,Array.isArray(y._f.refs)&&y._f.refs.forEach(f=>{f.disabled=y._f.disabled||t}))},0,!1))},Ke=(t,i)=>async o=>{let y;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let f=T(n);if(p.state.next({isSubmitting:!0}),s.resolver){const{errors:u,values:g}=await oe();$(),r.errors=u,f=T(g)}else await R(a);if(c.disabled.size)for(const u of c.disabled)O(f,u);if(O(r.errors,"root"),W(r.errors)){p.state.next({errors:{}});try{await t(f,o)}catch(u){y=u}}else i&&await i({...r.errors},o),Ue(),setTimeout(Ue);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:W(r.errors)&&!y,submitCount:r.submitCount+1,errors:r.errors}),y)throw y},Nr=(t,i={})=>{m(a,t)&&(D(i.defaultValue)?B(t,T(m(d,t))):(B(t,i.defaultValue),V(d,t,T(i.defaultValue))),i.keepTouched||O(r.touchedFields,t),i.keepDirty||(O(r.dirtyFields,t),r.isDirty=i.defaultValue?v(t,T(m(d,t))):v()),i.keepError||(O(r.errors,t),w.isValid&&Q()),p.state.next({...r}))},Ze=(t,i={})=>{const o=t?T(t):d,y=T(o),f=W(t),u=f?d:y;if(i.keepDefaultValues||(d=o),!i.keepValues){if(i.keepDirtyValues){const g=new Set([...c.mount,...Object.keys(we(d,n))]);for(const _ of Array.from(g))m(r.dirtyFields,_)?V(u,_,m(n,_)):B(_,m(u,_))}else{if(Be&&D(t))for(const g of c.mount){const _=m(a,g);if(_&&_._f){const F=Array.isArray(_._f.refs)?_._f.refs[0]:_._f.ref;if(De(F)){const X=F.closest("form");if(X){X.reset();break}}}}if(i.keepFieldsRef)for(const g of c.mount)B(g,m(u,g));else a={}}n=s.shouldUnregister?i.keepDefaultValues?T(d):{}:T(u),p.array.next({values:{...u}}),p.state.next({values:{...u}})}c={mount:i.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!w.isValid||!!i.keepIsValid||!!i.keepDirtyValues||!s.shouldUnregister&&!W(u),l.watch=!!s.shouldUnregister,l.keepIsValid=!!i.keepIsValid,l.action=!1,i.keepErrors||(r.errors={}),p.state.next({submitCount:i.keepSubmitCount?r.submitCount:0,isDirty:f?!1:i.keepDirty?r.isDirty:!!(i.keepDefaultValues&&!ye(t,d)),isSubmitted:i.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:f?{}:i.keepDirtyValues?i.keepDefaultValues&&n?we(d,n):r.dirtyFields:i.keepDefaultValues&&t?we(d,t):i.keepDirty?r.dirtyFields:{},touchedFields:i.keepTouched?r.touchedFields:{},errors:i.keepErrors?r.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:d})},Ge=(t,i)=>Ze(se(t)?t(n):t,{...s.resetOptions,...i}),Sr=(t,i={})=>{const o=m(a,t),y=o&&o._f;if(y){const f=y.refs?y.refs[0]:y.ref;f.focus&&setTimeout(()=>{f.focus(),i.shouldSelect&&se(f.select)&&f.select()})}},Dr=t=>{r={...r,...t}},Ye={control:{register:be,unregister:ke,getFieldState:k,handleSubmit:Ke,setError:q,_subscribe:M,_runSchema:oe,_updateIsValidating:$,_focusError:Ue,_getWatch:x,_getDirty:v,_setValid:Q,_setFieldArray:b,_setDisabledField:Ne,_setErrors:G,_getFieldArray:S,_reset:Ze,_resetDefaultValues:()=>se(s.defaultValues)&&s.defaultValues().then(t=>{Ge(t,s.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:ve,_disableForm:Er,_subjects:p,_proxyFormState:w,get _fields(){return a},get _formValues(){return n},get _state(){return l},set _state(t){l=t},get _defaultValues(){return d},get _names(){return c},set _names(t){c=t},get _formState(){return r},get _options(){return s},set _options(t){s={...s,...t}}},subscribe:te,trigger:ce,register:be,handleSubmit:Ke,watch:j,setValue:B,getValues:_e,reset:Ge,resetField:Nr,clearErrors:I,unregister:ke,setError:q,setFocus:Sr,getFieldState:k};return{...Ye,formControl:Ye}}function pt(e={}){const s=Y.useRef(void 0),r=Y.useRef(void 0),[a,d]=Y.useState({isDirty:!1,isValidating:!1,isLoading:se(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:se(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:a},e.defaultValues&&!se(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...c}=bt(e);s.current={...c,formState:a}}const n=s.current.control;return n._options=e,st(()=>{const l=n._subscribe({formState:n._proxyFormState,callback:()=>d({...n._formState}),reRenderRoot:!0});return d(c=>({...c,isReady:!0})),n._formState.isReady=!0,l},[n]),Y.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),Y.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),Y.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),Y.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),Y.useEffect(()=>{if(n._proxyFormState.isDirty){const l=n._getDirty();l!==a.isDirty&&n._subjects.state.next({isDirty:l})}},[n,a.isDirty]),Y.useEffect(()=>{var l;e.values&&!ye(e.values,r.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),!((l=n._options.resetOptions)===null||l===void 0)&&l.keepIsValid||n._setValid(),r.current=e.values,d(c=>({...c}))):n._resetDefaultValues()},[n,e.values]),Y.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=tt(a,n),s.current}const gr=(e,s,r)=>{if(e&&"reportValidity"in e){const a=m(r,s);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},Me=(e,s)=>{for(const r in s.fields){const a=s.fields[r];a&&a.ref&&"reportValidity"in a.ref?gr(a.ref,r,e):a&&a.refs&&a.refs.forEach(d=>gr(d,r,e))}},vr=(e,s)=>{s.shouldUseNativeValidation&&Me(e,s);const r={};for(const a in e){const d=m(s.fields,a),n=Object.assign(e[a]||{},{ref:d&&d.ref});if(xt(s.names||Object.keys(e),a)){const l=Object.assign({},m(r,a));V(l,"root",n),V(r,a,l)}else V(r,a,n)}return r},xt=(e,s)=>{const r=br(s);return e.some(a=>br(a).match(`^${r}\\.\\d+`))};function br(e){return e.replace(/\]|\[/g,"")}function pr(e,s){try{var r=e()}catch(a){return s(a)}return r&&r.then?r.then(void 0,s):r}function wt(e,s){for(var r={};e.length;){var a=e[0],d=a.code,n=a.message,l=a.path.join(".");if(!r[l])if("unionErrors"in a){var c=a.unionErrors[0].errors[0];r[l]={message:c.message,type:c.code}}else r[l]={message:n,type:d};if("unionErrors"in a&&a.unionErrors.forEach(function(ee){return ee.errors.forEach(function(w){return e.push(w)})}),s){var A=r[l].types,U=A&&A[a.code];r[l]=$e(l,s,r,d,U?[].concat(U,a.message):a.message)}e.shift()}return r}function _t(e,s){for(var r={};e.length;){var a=e[0],d=a.code,n=a.message,l=a.path.join(".");if(!r[l])if(a.code==="invalid_union"&&a.errors.length>0){var c=a.errors[0][0];r[l]={message:c.message,type:c.code}}else r[l]={message:n,type:d};if(a.code==="invalid_union"&&a.errors.forEach(function(ee){return ee.forEach(function(w){return e.push(w)})}),s){var A=r[l].types,U=A&&A[a.code];r[l]=$e(l,s,r,d,U?[].concat(U,a.message):a.message)}e.shift()}return r}function kt(e,s,r){if(r===void 0&&(r={}),(function(a){return"_def"in a&&typeof a._def=="object"&&"typeName"in a._def})(e))return function(a,d,n){try{return Promise.resolve(pr(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](a,s)).then(function(l){return n.shouldUseNativeValidation&&Me({},n),{errors:{},values:r.raw?Object.assign({},a):l}})},function(l){if((function(c){return Array.isArray(c==null?void 0:c.issues)})(l))return{values:{},errors:vr(wt(l.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw l}))}catch(l){return Promise.reject(l)}};if((function(a){return"_zod"in a&&typeof a._zod=="object"})(e))return function(a,d,n){try{return Promise.resolve(pr(function(){return Promise.resolve((r.mode==="sync"?Mr:Br)(e,a,s)).then(function(l){return n.shouldUseNativeValidation&&Me({},n),{errors:{},values:r.raw?Object.assign({},a):l}})},function(l){if((function(c){return c instanceof qr})(l))return{values:{},errors:vr(_t(l.issues,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}const xr=e=>e?e.startsWith("http")?e:`https://api.missflora.uk/api/storage/${e}`:null,Vt=Wr({name:pe().min(2,"الاسم يجب أن يكون حرفين على الأقل"),email:pe().email("البريد الإلكتروني غير صالح"),whatsapp:pe().optional(),country_code:pe().optional(),password:pe().optional(),confirm_password:pe().optional()}).refine(e=>!(e.password&&e.password!==e.confirm_password),{message:"كلمات المرور غير متطابقة",path:["confirm_password"]});function Mt({initialData:e,apiEndpoint:s,isTenant:r=!1,extraFields:a,onSuccess:d}){var ue,ce,_e;const{showToast:n}=Lr(),[l,c]=ie.useState(!1),[A,U]=ie.useState(null),[ee,w]=ie.useState(xr(e.avatarUrl)),[E,p]=ie.useState(!1),[K,P]=ie.useState(!1),[Q,$]=ie.useState(null),[b,Z]=ie.useState(["","","","","",""]),[G,N]=ie.useState(!1),me=Tr(),{register:re,handleSubmit:oe,watch:de,formState:{errors:R},reset:ve,setValue:v}=pt({resolver:kt(Vt),defaultValues:{name:e.name||"",email:e.email||"",whatsapp:e.whatsapp||"",country_code:e.country_code||""}}),x=de("email");Pr(),ie.useEffect(()=>{v("email",e.email||""),v("name",e.name||""),r&&(v("whatsapp",e.whatsapp||""),v("country_code",e.country_code||"")),w(xr(e.avatarUrl))},[e,r,v]);const S=k=>{U(k),w(URL.createObjectURL(k)),p(!1)},L=()=>{U(null),w(null),p(!0)},z=async k=>{var I,q;if(!(k.length!==6||G)){N(!0);try{await me.verifyProfileEmail(k),n("تم تحديث البريد الإلكتروني بنجاح","success"),P(!1),Z(["","","","","",""]),d==null||d({...e,email:Q||e.email})}catch(j){n(((q=(I=j.response)==null?void 0:I.data)==null?void 0:q.message)||"رمز التحقق غير صحيح","error")}finally{N(!1)}}};ie.useEffect(()=>{const k=b.join("");K&&k.length===6&&z(k)},[b,K]);const B=async k=>{var I,q;c(!0);try{const j=new FormData;j.append("email",k.email),j.append("name",k.name),r&&(j.append("whatsapp",k.whatsapp||""),j.append("country_code",k.country_code||"")),k.password&&(r?j.append("new_password",k.password):j.append("password",k.password)),E?j.append("remove_avatar","1"):A&&j.append("avatar",A);const M=await Ir.post(s,j,{headers:{"Content-Type":"multipart/form-data"}});if(M.require_verification){$(M.pending_email),P(!0),n(M.message,"info");return}M.bonus_message?n(M.bonus_message,"success"):n("تم تحديث الملف الشخصي بنجاح","success");const te={...k};A?te.avatarUrl=URL.createObjectURL(A):E&&(te.avatarUrl=null),d==null||d(te),ve({...k,password:"",confirm_password:""})}catch(j){const M=((q=(I=j.response)==null?void 0:I.data)==null?void 0:q.message)||"حدث خطأ أثناء الحفظ";n(M,"error")}finally{c(!1)}},he=Hr.map(k=>({value:k.code,label:k.name}));return h.jsxs("form",{onSubmit:oe(B),className:"space-y-12 max-w-6xl mx-auto w-full",children:[h.jsxs("div",{className:"space-y-10 group",children:[h.jsxs("div",{className:"flex items-center gap-6 border-b border-gray-50 dark:border-dark-800 pb-8 transition-colors group-hover:border-primary/20",children:[h.jsx("div",{className:"p-4 bg-primary/5 dark:bg-primary/10 rounded-[2rem] text-primary shadow-inner",children:h.jsx(Xe,{className:"w-8 h-8"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-black text-3xl text-gray-900 dark:text-white tracking-tight",children:"المعلومات الشخصية"}),h.jsx("p",{className:"text-base font-bold text-gray-400 group-hover:text-gray-500 dark:text-gray-500 transition-colors",children:"تحديث بياناتك الشخصية وصورة الحساب"})]})]}),h.jsxs("div",{className:"grid lg:grid-cols-[280px_1fr] gap-12 items-start",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center p-8 rounded-[2.5rem] bg-gray-50/50 dark:bg-dark-900/40 border border-gray-100 dark:border-dark-800 backdrop-blur-sm",children:[h.jsx(zr,{image:ee,onImageChange:S,onRemove:L,uploadId:"profile-avatar-upload",label:"صورة الحساب",size:"xl",variant:"circle"}),h.jsx("span",{className:"mt-4 text-[10px] font-black uppercase tracking-[0.2em] text-gray-400",children:"انقر لتغيير الصورة"})]}),h.jsxs("div",{className:"space-y-8 py-2",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[h.jsx(Ve,{label:r?"اسم المتجر":"الاسم الكامل",...re("name"),error:(ue=R.name)==null?void 0:ue.message,icon:Xe}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(Ve,{label:"البريد الإلكتروني",type:"email",...re("email"),error:(ce=R.email)==null?void 0:ce.message,icon:er,labelExtras:e.email_verified_at&&x===e.email?h.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 text-[10px] font-black rounded-full border border-emerald-100 dark:border-emerald-500/20 whitespace-nowrap animate-in fade-in zoom-in-95",title:"البريد الإلكتروني مؤكد",children:[h.jsx(rr,{className:"w-3 h-3"}),h.jsx("span",{children:"مؤكد"})]}):h.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-amber-50 dark:bg-amber-500/10 text-amber-600 dark:text-amber-400 text-[10px] font-black rounded-full border border-amber-100 dark:border-amber-500/20 whitespace-nowrap animate-in fade-in zoom-in-95",title:"البريد الإلكتروني غير مؤكد",children:[h.jsx(Rr,{className:"w-3 h-3"}),h.jsx("span",{children:"غير مؤكد"})]})}),x!==e.email&&h.jsx("p",{className:"text-xs font-bold text-amber-600 dark:text-amber-400 animate-in fade-in slide-in-from-top-1",children:"* سيتم إرسال رمز تحقق للبريد الجديد لتأكيد التغيير"})]})]}),r&&h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pt-4 border-t border-gray-50 dark:border-dark-800/50",children:[h.jsx(Ve,{label:"رقم الواتساب",type:"tel",...re("whatsapp"),className:"ltr",placeholder:"059xxxxxxx",icon:Kr}),h.jsx($r,{label:"الدولة",...re("country_code"),options:[{value:"",label:"اختر الدولة"},...he],icon:Zr})]}),a&&h.jsx("div",{className:"pt-2 animate-in fade-in slide-in-from-bottom-2 duration-700",children:a})]})]})]}),h.jsxs("div",{className:"space-y-10 group pt-4",children:[h.jsxs("div",{className:"flex items-center gap-6 border-b border-gray-50 dark:border-dark-800 pb-8 transition-colors group-hover:border-red-500/20",children:[h.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-500/10 rounded-[2rem] text-red-600 shadow-inner",children:h.jsx(Gr,{className:"w-8 h-8"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-black text-3xl text-gray-900 dark:text-white tracking-tight",children:"الأمان وكلمة المرور"}),h.jsx("p",{className:"text-base font-bold text-gray-400 group-hover:text-gray-500 dark:text-gray-500 transition-colors",children:"تحديث بيانات الدخول وحماية الحساب"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl",children:[h.jsx(Ve,{label:"كلمة المرور الجديدة",type:"password",...re("password"),placeholder:"••••••••",icon:tr}),h.jsx(Ve,{label:"تأكيد كلمة المرور",type:"password",...re("confirm_password"),error:(_e=R.confirm_password)==null?void 0:_e.message,placeholder:"••••••••",icon:tr})]})]}),h.jsx("div",{className:"pt-12 border-t border-gray-100 dark:border-dark-800 flex justify-end",children:h.jsxs("button",{type:"submit",disabled:l,className:"w-full md:w-auto px-12 h-16 flex items-center justify-center gap-3 bg-primary hover:bg-primary/90 text-white rounded-[1.5rem] font-black shadow-2xl shadow-primary/30 transition-all active:scale-95 disabled:opacity-50 min-w-[240px] text-lg",children:[l?h.jsx(sr,{className:"w-6 h-6 animate-spin"}):h.jsx(Yr,{className:"w-6 h-6"}),h.jsx("span",{children:"حفظ التعديلات"})]})}),K&&h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-dark-950/60 backdrop-blur-md",onClick:()=>P(!1)}),h.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-dark-900 rounded-[2.5rem] shadow-2xl border border-gray-100 dark:border-dark-800 p-10 animate-in zoom-in-95 duration-300",children:[h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-primary/10 rounded-[1.5rem] text-primary",children:h.jsx(er,{className:"w-8 h-8"})}),h.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white",children:"تأكيد البريد الإلكتروني"}),h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["أدخل الرمز المرسل إلى بريدك الجديد ",h.jsx("br",{}),h.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:Q})]})]}),h.jsx("div",{className:"mt-10 flex justify-between gap-2",dir:"ltr",children:b.map((k,I)=>h.jsx("input",{id:`profile-otp-${I}`,type:"text",maxLength:1,value:k,onChange:q=>{var te;const j=q.target.value.replace(/\D/g,"").slice(-1),M=[...b];M[I]=j,Z(M),j&&I<5&&((te=document.getElementById(`profile-otp-${I+1}`))==null||te.focus())},onKeyDown:q=>{var j;q.key==="Backspace"&&!k&&I>0&&((j=document.getElementById(`profile-otp-${I-1}`))==null||j.focus())},onPaste:q=>{var M;q.preventDefault();const j=q.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);if(j){const te=[...b];j.split("").forEach((Ne,be)=>{be<6&&(te[be]=Ne)}),Z(te);const ke=Math.min(j.length-1,5);(M=document.getElementById(`profile-otp-${ke}`))==null||M.focus()}},className:"w-12 h-16 text-center text-2xl font-black bg-gray-50 dark:bg-dark-950 border-2 border-transparent focus:border-primary focus:bg-white dark:focus:bg-dark-800 rounded-2xl transition-all outline-none",autoFocus:I===0},I))}),h.jsxs("button",{type:"button",disabled:G||b.join("").length!==6,onClick:()=>z(b.join("")),className:"w-full mt-10 h-14 bg-primary text-white rounded-2xl font-black shadow-lg shadow-primary/25 hover:shadow-xl transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[G?h.jsx(sr,{className:"w-5 h-5 animate-spin"}):h.jsx(rr,{className:"w-5 h-5"}),h.jsx("span",{children:"تأكيد التغيير"})]})]})]})]})}export{Mt as P};
