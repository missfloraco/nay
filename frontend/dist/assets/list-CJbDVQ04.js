import{g as V,T as U,s as L,t as $,j as e,v as q,r as o,w as W,e as w,p as J,l as Z,X as ee}from"./index-ljXU23zv.js";import{r as ae,a as P}from"./helpers-CPSgdYRA.js";import{A as re}from"./adminlayout-Yn-e0X52.js";import{T as i}from"./textsadminpanel-DB4O06i_.js";import{V as te}from"./btn-crud-DqdNa7aP.js";import{I as se,D as F,A as le,T as ne}from"./table-cells-Du0w-Sbt.js";import{C as oe}from"./circularimageupload-BtiN9U1O.js";import{C as ie}from"./constants-DPRNOWFl.js";import{M as B}from"./mail-_C7isKWQ.js";import{S as z}from"./shield-BunZ8sYq.js";import{I as de}from"./image-QgWKVxoL.js";import{L as ce}from"./loader-circle-D5B7Ya48.js";import{S as Y}from"./save-BIZD7XO8.js";import{D as xe}from"./dollar-sign-l40rLe31.js";import{U as ge}from"./users-DtEpYzC0.js";import{P as G}from"./sidebar-left-CkMyBbHc.js";import{E as pe}from"./eye-BsItnNWp.js";import"./adslot-DvSxPRYf.js";import"./database-C3fUNcsp.js";import"./log-out-DHuL-UPz.js";import"./user-BhkJww6t.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],K=V("ban",me);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],be=V("log-in",ue);function fe({status:t,trialExpiresAt:k}){const S=()=>{if(!k)return 0;const r=new Date(k),x=new Date,N=r.getTime()-x.getTime(),f=Math.ceil(N/(1e3*60*60*24));return Math.max(0,f)},u=r=>r===1?"يوم واحد":r===2?"يومان":r>=3&&r<=10?`${r} أيام`:`${r} يوماً`,y=t==="trial"?S():0,p={pending:{icon:U,label:"قيد الانتظار",className:"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700"},trial:{icon:$,label:`تجربة (${u(y)})`,className:y<=3?"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300 border-red-200 dark:border-red-800":"bg-amber-100 dark:bg-amber-900/20 text-amber-700 dark:text-amber-300 border-amber-200 dark:border-amber-800"},active:{icon:L,label:"مفعّل",className:"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300 border-green-200 dark:border-green-800"},expired:{icon:U,label:"تجربة منتهية (معلق)",className:"bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 border-orange-200 dark:border-orange-800"},disabled:{icon:K,label:"معطّل",className:"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700"}}[t],b=p.icon;return e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg border text-xs font-bold ${p.className}`,children:[e.jsx(b,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:p.label})]})}function he({tenant:t,tenants:k,onSelect:S,onUpdate:u,onNavigateToPayments:y}){const{showSuccess:j,showError:p,showConfirm:b}=q(),[r,x]=o.useState({name:"",email:"",whatsapp:"",country_code:"",status:"",trial_expires_at:"",subscription_ends_at:"",password:"",ads_enabled:!0}),[N,f]=o.useState(null),[v,M]=o.useState(!1),[_,C]=o.useState(null),[I,h]=o.useState(!1);o.useEffect(()=>{t&&(x({name:t.name,email:t.email||"",whatsapp:t.whatsapp||"",country_code:t.country_code||"",status:t.status,trial_expires_at:t.trial_expires_at?t.trial_expires_at.split("T")[0]:"",subscription_ends_at:t.subscription_ends_at?t.subscription_ends_at.split("T")[0]:"",password:"",ads_enabled:t.ads_enabled??!0}),C(ae(t.avatar_url)),f(null),h(!1))},[t]);const A=async s=>{var m,g;if(s.preventDefault(),!!t)try{M(!0);const n=new FormData;n.append("_method","PUT"),n.append("name",r.name),n.append("email",r.email),n.append("whatsapp",r.whatsapp),n.append("country_code",r.country_code),r.trial_expires_at&&n.append("trial_expires_at",r.trial_expires_at),r.subscription_ends_at&&n.append("subscription_ends_at",r.subscription_ends_at),r.status&&n.append("status",r.status),r.password&&n.append("admin_password",r.password),n.append("ads_enabled",r.ads_enabled?"1":"0"),I?n.append("remove_avatar","1"):N&&n.append("avatar",N),await w.post(`/admin/tenants/${t.id}`,n,{headers:{"Content-Type":"multipart/form-data"}}),j(i.MESSAGES.SUCCESS),u()}catch(n){p(((g=(m=n.response)==null?void 0:m.data)==null?void 0:g.message)||i.MESSAGES.ERROR)}finally{M(!1)}},D=async()=>{var m,g;if(!(!t||!await b({title:"الدخول كمسؤول للنظام (محاكاة)",message:`هل أنت متأكد من رغبتك في الدخول إلى نظام المستأجر "${t.name}" كمسؤول؟ ستتمكن من عرض لوحة التحكم والبيانات الخاصة به.`,confirmLabel:"دخول ومحاكاة",cancelLabel:"إلغاء"})))try{const n=await w.post(`/admin/tenants/${t.id}/impersonate`);n.token?window.location.href=`/login?impersonate_token=${n.token}`:p("لم يتم الحصول على رمز الدخول")}catch(n){p(((g=(m=n.response)==null?void 0:m.data)==null?void 0:g.message)||"فشل عملية المحاكاة")}},R=async s=>{var g,n;if(!(!t||!await b({title:s==="enable"?"تفعيل المشترك؟":"تعطيل المشترك؟",message:s==="enable"?"سيتمكن المشترك من الدخول للنظام":"سيتم منع المشترك من الدخول للنظام"})))try{await w.post(`/admin/tenants/${t.id}/${s}`),j(i.MESSAGES.SUCCESS),u()}catch(E){p(((n=(g=E.response)==null?void 0:g.data)==null?void 0:n.message)||i.MESSAGES.ERROR)}},T=async()=>{var m,g;if(!(!t||!await b({title:"حذف المشترك؟",message:"سيتم نقل المشترك إلى سلة المحذوفات",isDestructive:!0})))try{await w.delete(`/admin/tenants/${t.id}`),j(i.MESSAGES.SUCCESS),u()}catch(n){p(((g=(m=n.response)==null?void 0:m.data)==null?void 0:g.message)||i.MESSAGES.ERROR)}},l=s=>{f(s),C(URL.createObjectURL(s)),h(!1)},c=()=>{f(null),C(null),h(!0)};return e.jsx("div",{className:"h-full flex flex-col bg-white dark:bg-gray-800 overflow-hidden relative",children:t?e.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden animate-in slide-in-from-right duration-300",children:[e.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:e.jsxs("form",{id:"tenant-details-form",onSubmit:A,className:"pb-32",children:[e.jsxs("div",{className:"py-6 px-8 flex items-center gap-4 bg-gray-50/30 dark:bg-gray-900/10 border-b border-gray-100 dark:border-white/5",children:[e.jsx(oe,{image:_,onImageChange:l,onRemove:c,uploadId:"tenant-avatar-upload",size:"xs",variant:"square",className:"!gap-0"}),e.jsxs("div",{className:"flex flex-col gap-0.5 overflow-hidden",children:[e.jsx("h2",{className:"font-black text-gray-900 dark:text-white text-base truncate",children:t.name}),e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-gray-400 font-bold uppercase tracking-wider truncate",children:[e.jsx(B,{className:"w-3 h-3 opacity-50"}),t.email]})]})]}),e.jsxs("div",{className:"space-y-0.5 mt-4",children:[e.jsxs("div",{className:"p-8 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-primary font-black text-xs uppercase tracking-widest",children:[e.jsx(z,{className:"w-4 h-4"}),"حالة الحساب والاشتراك"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>x({...r,status:"trial"}),className:`py-3 rounded-2xl border-2 transition-all font-bold text-xs flex items-center justify-center gap-2 ${r.status==="trial"?"border-primary bg-primary/5 text-primary":"border-gray-100 bg-gray-50 text-gray-400 opacity-60"}`,children:[e.jsx($,{className:"w-4 h-4"}),"فترة تجريبية"]}),e.jsxs("button",{type:"button",onClick:()=>x({...r,status:"active"}),className:`py-3 rounded-2xl border-2 transition-all font-bold text-xs flex items-center justify-center gap-2 ${r.status==="active"?"border-emerald-600 bg-emerald-50 text-emerald-600":"border-gray-100 bg-gray-50 text-gray-400 opacity-60"}`,children:[e.jsx(L,{className:"w-4 h-4"}),"اشتراك مفعّل"]})]})]}),e.jsxs("div",{className:"p-8 pt-0 grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"تاريخ نهاية التجربة"}),e.jsx("input",{type:"date",value:r.trial_expires_at,onChange:s=>x({...r,trial_expires_at:s.target.value}),className:"w-full p-4 rounded-2xl bg-gray-50 dark:bg-gray-900 border border-gray-100 dark:border-gray-700 text-sm font-bold focus:ring-2 focus:ring-primary/20 transition-all font-mono"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"تاريخ نهاية الاشتراك"}),e.jsx("input",{type:"date",value:r.subscription_ends_at,onChange:s=>x({...r,subscription_ends_at:s.target.value}),className:"w-full p-4 rounded-2xl bg-gray-50 dark:bg-gray-900 border border-gray-100 dark:border-gray-700 text-sm font-bold focus:ring-2 focus:ring-primary/20 transition-all font-mono"})]})]}),e.jsxs("div",{className:"p-8 pt-0 flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"واتساب التواصل"}),e.jsx("input",{type:"tel",value:r.whatsapp,onChange:s=>x({...r,whatsapp:s.target.value}),className:"w-full p-4 rounded-2xl bg-gray-50 dark:bg-gray-900 border border-transparent text-sm font-black dir-ltr text-right"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"الدولة والمنطقة"}),e.jsxs("select",{value:r.country_code,onChange:s=>x({...r,country_code:s.target.value}),className:"onboarding-input-small p-4 rounded-2xl bg-gray-50 dark:bg-gray-900 border border-transparent text-sm font-bold appearance-none cursor-pointer",children:[ie.map(s=>e.jsx("option",{value:s.code,children:s.name},s.code)),e.jsx("option",{value:"other",children:"أخرى"})]})]})]}),e.jsxs("div",{className:"mx-8 p-6 rounded-3xl bg-blue-50/30 dark:bg-blue-900/10 flex items-center justify-between border border-blue-100/50 dark:border-blue-900/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2.5 rounded-xl ${r.ads_enabled?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400 opacity-50"}`,children:e.jsx(de,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[13px] font-bold text-gray-900 dark:text-gray-100",children:"الإعلانات الممولة"}),e.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:r.ads_enabled?"مفعلة للمشترك":"معطلة للمشترك"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.ads_enabled,onChange:s=>x({...r,ads_enabled:s.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600 shadow-inner transition-all"})]})]}),e.jsxs("div",{className:"p-8 flex flex-col gap-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"تغيير كلمة المرور"}),e.jsx("input",{type:"password",placeholder:"اتركه فارغاً للتجاهل",value:r.password,onChange:s=>x({...r,password:s.target.value}),className:"w-full p-4 rounded-2xl bg-gray-50 dark:bg-gray-900 border border-transparent focus:border-primary/30 text-sm font-mono"})]})]})]})}),e.jsx("div",{className:"p-6 bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-t border-gray-100 dark:border-gray-700/50 shadow-[0_-10px_40px_rgba(0,0,0,0.05)] shrink-0 z-30",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("button",{type:"submit",form:"tenant-details-form",disabled:v,className:"w-full py-4.5 bg-gray-900 text-white dark:bg-white dark:text-gray-900 rounded-[2rem] font-black hover:opacity-90 disabled:opacity-50 text-sm flex items-center justify-center gap-3 shadow-2xl transition-all active:scale-95 group",children:[v?e.jsx(ce,{className:"w-5 h-5 animate-spin"}):e.jsx(Y,{className:"w-5 h-5 group-hover:rotate-12 transition-transform"}),e.jsx("span",{className:"tracking-wide",children:"حفظ كل التعديلات"})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[e.jsx("button",{onClick:()=>t&&y(t),title:"سجل الدفعات",className:"aspect-square flex flex-col items-center justify-center bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400 rounded-2xl hover:bg-emerald-100 transition-all group",children:e.jsx(xe,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})}),e.jsx("button",{onClick:D,title:"دخول كمسؤول (محاكاة)",className:"aspect-square flex flex-col items-center justify-center bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400 rounded-2xl hover:bg-blue-100 transition-all group",children:e.jsx(be,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})}),t.status!=="disabled"?e.jsx("button",{onClick:()=>R("disable"),title:"تعطيل المشترك",className:"aspect-square flex flex-col items-center justify-center bg-gray-100 text-gray-500 dark:bg-gray-700 dark:text-gray-400 rounded-2xl hover:bg-gray-200 transition-all group",children:e.jsx(K,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})}):e.jsx("button",{onClick:()=>R("enable"),title:"تفعيل المشترك",className:"aspect-square flex flex-col items-center justify-center bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400 rounded-2xl hover:bg-emerald-100 transition-all group",children:e.jsx(L,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})}),e.jsx("button",{onClick:T,title:"حذف المشترك",className:"aspect-square flex flex-col items-center justify-center bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400 rounded-2xl hover:bg-red-100 transition-all group",children:e.jsx(W,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})})]})]})})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-300 text-center p-12",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-50 dark:bg-gray-900/50 mb-8 flex items-center justify-center border-4 border-white dark:border-gray-800 shadow-xl",children:e.jsx(ge,{className:"w-10 h-10 opacity-20"})}),e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-gray-100 mb-2",children:"إدارة المشتركين"}),e.jsx("p",{className:"text-sm text-gray-400 max-w-[240px] leading-relaxed font-bold",children:"اختر أحد المشتركين من القائمة لعرض تفاصيل حسابه وإدارة اشتراكاته."})]})})}function Fe(){const{showSuccess:t,showError:k}=q(),{registerAddAction:S,unregisterAddAction:u}=J(),[y,j]=o.useState([]),[p,b]=o.useState(!0),[r,x]=o.useState(null),[N,f]=o.useState(1),[v,M]=o.useState(""),[_,C]=o.useState({column:"created_at",order:"desc"}),[I,h]=o.useState(!1),[A,D]=o.useState(!1),[R,T]=o.useState(null),[l,c]=o.useState({name:"",admin_email:"",admin_password:"",status:"trial",trial_expires_at:"",subscription_ends_at:"",ads_enabled:!0});o.useEffect(()=>(S(()=>{c({name:"",admin_email:"",admin_password:"",status:"trial",trial_expires_at:"",subscription_ends_at:"",ads_enabled:!0}),h(!0)},i.TENANTS.ADD_TENANT,G),()=>u()),[S,u]),o.useEffect(()=>{s()},[N,v,_]);const s=async()=>{try{b(!0);const a=new URLSearchParams({page:String(N),per_page:"15",...v&&{search:v},sort_by:_.column,sort_order:_.order}),d=await w.get(`/admin/tenants?${a.toString()}`);j(d.data||[]),x(d.meta||null)}catch(a){Z.error("Error loading tenants:",a),k(i.MESSAGES.ERROR)}finally{b(!1)}},m=async a=>{var d,O;a.preventDefault(),D(!0);try{await w.post("/admin/tenants",l),t(i.MESSAGES.SUCCESS),h(!1),s()}catch(H){k(((O=(d=H.response)==null?void 0:d.data)==null?void 0:O.message)||i.MESSAGES.ERROR)}finally{D(!1)}},g=a=>{f(a)},n=(a,d)=>{C({column:a,order:d}),f(1)},E=a=>{if(!a)return"-";try{return new Intl.DisplayNames(["ar"],{type:"region"}).of(a)}catch{return a}},Q=a=>{window.location.href=`/admin/payments?tenant=${a.id}&highlight=true`},X=o.useMemo(()=>[{header:"المستأجر",accessor:a=>e.jsx(se,{name:a.name,avatar:a.avatar_url}),exportValue:a=>a.name,className:"min-w-[200px]",sortable:!0,sortKey:"name"},{header:"البريد الإلكتروني",accessor:a=>e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 font-mono text-sm",children:[e.jsx(B,{className:"w-3 h-3 text-gray-400"}),a.email]}),exportValue:a=>a.email,width:"15%",sortable:!0,sortKey:"email"},{header:"البلد",accessor:a=>e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:E(a.country_code)}),exportValue:a=>E(a.country_code)||"",className:"min-w-[100px]"},{header:"رقم الهاتف / واتساب",accessor:a=>e.jsx("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 font-mono text-sm",dir:"ltr",children:a.whatsapp||"-"}),exportValue:a=>a.whatsapp||"-",width:"15%"},{header:"الحالة",accessor:a=>e.jsx(fe,{status:a.status,trialExpiresAt:a.trial_expires_at}),exportValue:a=>a.status,className:"min-w-[100px]"},{header:"تاريخ الانضمام",accessor:a=>e.jsx(F,{date:a.created_at}),exportValue:a=>P(a.created_at),width:"15%",sortable:!0,sortKey:"created_at"},{header:"تاريخ انتهاء الاشتراك",accessor:a=>e.jsx(F,{date:a.subscription_ends_at||a.trial_expires_at||"",label:!a.subscription_ends_at&&a.trial_expires_at?"فترة تجريبية":void 0,isUrgent:!a.subscription_ends_at}),exportValue:a=>P(a.subscription_ends_at||a.trial_expires_at||""),width:"15%"},{header:i.TENANTS.ACTIONS,accessor:a=>e.jsx(le,{children:e.jsx(te,{type:"icon",onClick:()=>T(a),icon:pe,label:"إدارة",variant:"primary",className:"bg-blue-50 text-blue-600 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/40"})}),width:"10%"}],[E,T]);return e.jsxs(re,{title:i.TITLES.TENANTS,leftSidebarContent:e.jsx(he,{tenant:R,tenants:y,onSelect:T,onUpdate:s,onNavigateToPayments:Q}),leftSidebarNoPadding:!0,leftSidebarNoBorder:!0,children:[e.jsx("div",{className:"h-full flex flex-col p-6",children:e.jsx("div",{className:"flex-1 flex flex-col",children:e.jsx(ne,{columns:X,data:y,isLoading:p,exportFileName:"قائمة_المشتركين",paginationMeta:r,onPageChange:g,currentSort:_,onSortChange:n})})}),I&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl w-full max-w-xl shadow-2xl overflow-hidden border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"px-8 py-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-900/50",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[e.jsx(G,{className:"w-6 h-6 text-primary"}),i.TENANTS.ADD_TENANT]}),e.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors text-gray-500",children:e.jsx(ee,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:i.TENANTS.TENANT_NAME}),e.jsx("input",{type:"text",value:l.name,onChange:a=>c({...l,name:a.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 dark:border-gray-700 dark:bg-gray-900 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"نوع الحساب والحالة"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs("button",{type:"button",onClick:()=>c({...l,status:"trial"}),className:`flex-1 py-3 rounded-xl border-2 transition-all font-bold flex items-center justify-center gap-2 ${l.status==="trial"?"border-primary bg-primary/5 text-primary":"border-gray-100 bg-gray-50 text-gray-400"}`,children:[e.jsx($,{className:"w-5 h-5"}),"فترة تجريبية"]}),e.jsxs("button",{type:"button",onClick:()=>c({...l,status:"active"}),className:`flex-1 py-3 rounded-xl border-2 transition-all font-bold flex items-center justify-center gap-2 ${l.status==="active"?"border-emerald-600 bg-emerald-50 text-emerald-600":"border-gray-100 bg-gray-50 text-gray-400"}`,children:[e.jsx(z,{className:"w-5 h-5"}),"اشتراك نشط"]})]}),e.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:["تاريخ ",l.status==="trial"?"انتهاء التجربة":"انتهاء الاشتراك"]}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("button",{type:"button",onClick:()=>{const a=new Date;a.setMonth(a.getMonth()+1);const d=a.toISOString().split("T")[0];l.status==="trial"?c({...l,trial_expires_at:d}):c({...l,subscription_ends_at:d})},className:"px-3 py-1 text-xs rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 transition-colors",children:"شهر واحد"}),e.jsx("button",{type:"button",onClick:()=>{const a=new Date;a.setFullYear(a.getFullYear()+1);const d=a.toISOString().split("T")[0];l.status==="trial"?c({...l,trial_expires_at:d}):c({...l,subscription_ends_at:d})},className:"px-3 py-1 text-xs rounded-lg bg-purple-50 text-purple-600 hover:bg-purple-100 dark:bg-purple-900/20 dark:hover:bg-purple-900/30 transition-colors",children:"سنة واحدة"}),e.jsx("button",{type:"button",onClick:()=>{const a=new Date;a.setFullYear(a.getFullYear()+100);const d=a.toISOString().split("T")[0];l.status==="trial"?c({...l,trial_expires_at:d}):c({...l,subscription_ends_at:d})},className:"px-3 py-1 text-xs rounded-lg bg-green-50 text-green-600 hover:bg-green-100 dark:bg-green-900/20 dark:hover:bg-green-900/30 transition-colors",children:"مدى الحياة"})]}),e.jsx("input",{type:"date",value:l.status==="trial"?l.trial_expires_at:l.subscription_ends_at,onChange:a=>{l.status==="trial"?c({...l,trial_expires_at:a.target.value}):c({...l,subscription_ends_at:a.target.value})},className:"w-full p-3 rounded-xl border border-gray-200 dark:border-gray-700 dark:bg-gray-900 dark:text-white font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:i.TENANTS.ADMIN_EMAIL}),e.jsx("input",{type:"email",value:l.admin_email,onChange:a=>c({...l,admin_email:a.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 dark:border-gray-700 dark:bg-gray-900 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:i.TENANTS.ADMIN_PASSWORD}),e.jsx("input",{type:"password",value:l.admin_password,onChange:a=>c({...l,admin_password:a.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 dark:border-gray-700 dark:bg-gray-900 dark:text-white",required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs("button",{type:"submit",disabled:A,className:"flex-1 bg-primary text-white rounded-xl py-3 font-bold hover:bg-primary/90 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5"}),A?i.BUTTONS.SAVING:i.TENANTS.CREATE_TENANT]}),e.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-6 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl py-3 font-bold hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:i.BUTTONS.CANCEL})]})]})})]})})]})}export{Fe as default};
