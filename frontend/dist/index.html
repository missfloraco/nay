<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="https://lucide.dev/logo.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script>
    (function () {
      // 1. Load merged settings from cache
      const cachedSettings = localStorage.getItem('app_merged_settings');
      let settings = null;
      try {
        if (cachedSettings) settings = JSON.parse(cachedSettings);
      } catch (e) { console.error('Cache parse error', e); }

      // 2. Apply Custom Colors & Theme IMMEDIATELY (Prevents color flash)
      if (settings) {
        // Apply Dark Mode if saved
        if (localStorage.getItem('theme') === 'dark' || settings.darkMode) {
          document.documentElement.classList.add('dark');
        }

        if (settings.primaryColor) document.documentElement.style.setProperty('--color-primary', settings.primaryColor);
        if (settings.secondaryColor) document.documentElement.style.setProperty('--color-secondary', settings.secondaryColor);
        if (settings.accentColor1) document.documentElement.style.setProperty('--color-accent1', settings.accentColor1);
        if (settings.accentColor2) document.documentElement.style.setProperty('--color-accent2', settings.accentColor2);

        // Apply App Name as Title (if not on landing page)
        if (settings.appName && window.location.pathname !== '/') {
          document.title = settings.appName;
        }

        // Apply Description (Prevents meta flash)
        if (settings.appDescription) {
          let metaDesc = document.querySelector('meta[name="description"]');
          if (!metaDesc) {
            metaDesc = document.createElement('meta');
            metaDesc.name = "description";
            document.head.appendChild(metaDesc);
          }
          metaDesc.content = settings.appDescription;
        }
      }

      // 3. Set favicon from localStorage or merged settings
      const savedFavicon = settings?.faviconUrl || localStorage.getItem('app_favicon');
      if (savedFavicon) {
        const link = document.querySelector("link[rel*='icon']") || document.createElement('link');
        link.rel = 'icon';
        link.href = savedFavicon;
        if (!link.parentNode) document.head.appendChild(link);
      }

      // 4. Set SEO title from cache IMMEDIATELY for landing page
      if (window.location.pathname === '/') {
        try {
          const cachedSEO = localStorage.getItem('seo_landing');
          if (cachedSEO) {
            const seoData = JSON.parse(cachedSEO);
            if (seoData.title) {
              document.title = seoData.title;
            }
          }
        } catch (e) {
          console.error('Failed to load cached SEO title:', e);
        }
      }
    })();
  </script>
  <!-- Local Fonts: RTA -->
  <style>
    /* Smooth scrolling and scrollbar customization */
    html {
      scroll-behavior: smooth;
    }

    body {
      background-color: #f8fafc;
      /* Slate 50 - consistent with Tailwind bg-gray-50 */
    }

    ::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: #cbd5e1;
      border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #94a3b8;
    }
  </style>
  <script type="module" crossorigin src="/assets/index-CyxQwsQl.js"></script>
  <link rel="stylesheet" crossorigin href="/assets/index-B6oWXT-r.css">
</head>

<body>
  <div id="root"></div>
</body>

</html>