/* ============================================
   PRINT-SPECIFIC STYLES
   Professional A4 printing for SaaS documents
   ============================================ */

/* ============================================
   @PAGE RULES - A4 Setup
   ============================================ */
@page {
  size: A4 portrait;
  margin: 20mm 15mm;
}

/* ============================================
   PRINT MEDIA QUERIES
   ============================================ */
@media print {
  /* ==========================================
     GLOBAL PRINT SETTINGS
     ========================================== */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    box-shadow: none !important;
  }

  html,
  body {
    width: 210mm;
    height: 297mm;
    margin: 0;
    padding: 0;
    background: white;
    color: #000;
    font-size: 12pt;
    line-height: 1.5;
  }

  /* ==========================================
     HIDE UI ELEMENTS
     ========================================== */
  .no-print,
  button,
  .sidebar,
  .header,
  .footer,
  nav,
  .action-buttons,
  .pagination {
    display: none !important;
  }

  /* ==========================================
     PAGE BREAK CONTROL
     ========================================== */
  
  /* Prevent breaks inside these elements */
  .avoid-break,
  .print-section,
  .invoice-header,
  .invoice-footer,
  .table-row,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    page-break-inside: avoid;
    break-inside: avoid;
  }

  /* Force page break after */
  .page-break {
    page-break-after: always;
    break-after: always;
  }

  /* Prevent orphans and widows */
  p,
  li {
    orphans: 3;
    widows: 3;
  }

  /* ==========================================
     TABLE HANDLING
     ========================================== */
  table {
    width: 100%;
    border-collapse: collapse;
    page-break-inside: auto;
  }

  thead {
    display: table-header-group; /* Repeat header on each page */
  }

  tfoot {
    display: table-footer-group; /* Repeat footer on each page */
  }

  tbody {
    display: table-row-group;
  }

  tr {
    page-break-inside: avoid;
    break-inside: avoid;
    page-break-after: auto;
  }

  td,
  th {
    padding: 8px;
    border: 1px solid #ddd;
  }

  th {
    background-color: #f5f5f5 !important;
    font-weight: bold;
    text-align: right;
  }

  /* ==========================================
     TYPOGRAPHY
     ========================================== */
  h1 {
    font-size: 24pt;
    margin: 0 0 12pt 0;
  }

  h2 {
    font-size: 18pt;
    margin: 0 0 10pt 0;
  }

  h3 {
    font-size: 16pt;
    margin: 0 0 8pt 0;
  }

  h4 {
    font-size: 14pt;
    margin: 0 0 6pt 0;
  }

  p {
    margin: 0 0 8pt 0;
  }

  /* ==========================================
     LINKS
     ========================================== */
  a {
    color: #000;
    text-decoration: none;
  }

  a[href]:after {
    content: " (" attr(href) ")";
    font-size: 90%;
    color: #666;
  }

  /* ==========================================
     IMAGES
     ========================================== */
  img {
    max-width: 100%;
    page-break-inside: avoid;
  }

  /* ==========================================
     BORDERS & BACKGROUNDS
     ========================================== */
  .print-border {
    border: 1px solid #000;
  }

  .print-bg-gray {
    background-color: #f5f5f5 !important;
  }

  /* ==========================================
     SPACING & LAYOUT
     ========================================== */
  .print-mt-1 { margin-top: 8pt; }
  .print-mt-2 { margin-top: 16pt; }
  .print-mt-3 { margin-top: 24pt; }
  
  .print-mb-1 { margin-bottom: 8pt; }
  .print-mb-2 { margin-bottom: 16pt; }
  .print-mb-3 { margin-bottom: 24pt; }

  .print-p-1 { padding: 8pt; }
  .print-p-2 { padding: 16pt; }

  /* ==========================================
     TEXT ALIGNMENT
     ========================================== */
  .print-text-left { text-align: left; }
  .print-text-center { text-align: center; }
  .print-text-right { text-align: right; }

  /* ==========================================
     GRID & FLEX (Print-safe)
     ========================================== */
  .print-grid-2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16pt;
  }

  .print-flex {
    display: flex;
    justify-content: space-between;
  }

  /* ==========================================
     INVOICE-SPECIFIC
     ========================================== */
  .invoice-header {
    margin-bottom: 24pt;
    padding-bottom: 16pt;
    border-bottom: 2px solid #000;
  }

  .invoice-footer {
    margin-top: 24pt;
    padding-top: 16pt;
    border-top: 1px solid #ddd;
  }

  .invoice-total {
    font-size: 14pt;
    font-weight: bold;
  }

  /* ==========================================
     PAGE NUMBERS
     ========================================== */
  .page-number:after {
    content: counter(page);
  }

  .total-pages:after {
    content: counter(pages);
  }
}

/* ============================================
   SCREEN-ONLY STYLES (Preview)
   ============================================ */
@media screen {
  .print-preview {
    max-width: 210mm;
    min-height: 297mm;
    margin: 20px auto;
    padding: 20mm 15mm;
    background: white;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  }
}
